<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tbl.modules.basedata.dao.MaterielDAO">

    <insert id="savaMateriel" parameterType="com.tbl.modules.basedata.entity.Materiel" keyProperty="id">
		insert into  base_materiel(id,materiel_code,materiel_name,barcode,customer_by,quality_period,`length`,wide,height,
		volume,unit,spec,upshelf_classify,pick_classify,batch_rule,create_time,supplier_by,producer_by) values
		(#{id},#{materielCode},#{materielName},#{barcode},#{customerBy},#{qualityPeriod},#{length},#{wide},#{height},
		#{volume},#{unit},#{spec},#{upshelfClassify},#{pickClassify},#{batchRule},#{createTime},#{supplierBy},#{producerBy})
	</insert>

    <select id="getAllLists" resultType="com.tbl.modules.basedata.entity.Materiel">
        select id,materiel_code,materiel_name,barcode,customer_by,supplier_by,producer_by,
        quality_period,length,wide,height,volume,unit,spec,upshelf_classify,
        pick_classify,batch_rule,create_time,update_time
        from base_materiel
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            <if test="list!=null and list.size()>0">
                and id in
                <foreach item="ids" index="index" collection="list"
                         open="(" separator="," close=")">
                    #{ids}
                </foreach>
            </if>
            and deleted_flag=1
        </trim>
    </select>

    <update id="updateMaterielRfid">
        update base_materiel set rfid=#{rfid} where id in (#{id})
    </update>
</mapper>